line 81

+ #include <sys/stat.h>

Defines like _S_IREAD and so on.

line 133

+ #ifndef pid_t
+ typedef int pid_t;
+ #endif
+ #ifndef ssize_t
+ typedef long ssize_t;
+ #endif
+ #ifndef mode_t
+ typedef unsigned short mode_t;
+ #endif
+ 
+ /* Some defines for _access nAccessMode (MS doesn't define them, but
+  * it doesn't seem to hurt to add them). */
+ #define	F_OK	0	/* Check for file existence */
+ /* Well maybe it does hurt.  On newer versions of MSVCRT, an access mode
+    of 1 causes invalid parameter error. */   
+ #define	X_OK	1	/* MS access() doesn't check for execute permission. */
+ #define	W_OK	2	/* Check for write permission */
+ #define	R_OK	4	/* Check for read permission */

Types are necessary everywhere, but not declared in MSVC CRT.
Defines are declared in MinGW's io.h, but not in MSVC.

line 356

+ #define	_S_IRWXU	(_S_IREAD | _S_IWRITE | _S_IEXEC)
+ #define	_S_IXUSR	_S_IEXEC
+ #define	_S_IWUSR	_S_IWRITE
+ #define	_S_IRUSR	_S_IREAD

line 382

+ #  define strdup(s) _strdup(s)

